# PDF 문제 추출 스킬

PDF 문서에서 전기기능사 시험 문제를 추출하여 구조화된 CSV 형식으로 변환합니다.

## 작업 목표

PDF 파일 내 모든 문제(예제, 연습문제, 부록)를 추출하고, PDF에 명시된 카테고리를 적용하여 9개 필드로 정리된 쉼표(,) 구분 텍스트로 출력합니다.

## 출력 형식

```
Category,Question,Option1,Option2,Option3,Option4,Answer,LaTeX_Formula,Image_Description
```

## 작업 단계

### Step 1: 전체 텍스트 추출 및 카테고리 매핑 확인 🔍

**카테고리 매핑 규칙 확립:**
- PDF 파일의 머리말, 목차 또는 단원 시작 페이지를 먼저 스캔
- CHAPTER 01 ~ CHAPTER 08이 '전기이론', '전기기기', '전기설비' 중 어느 카테고리에 속하는지 매핑 규칙 확립
- 예시: CHAPTER 01~08이 모두 '전기이론'으로 명시되어 있다면, 모든 문제에 '전기이론' 적용

**문제 영역 분리:**
- '예제', '연습문제', 'CBT 예상문제', 'CBT 모의고사'가 포함된 페이지를 문제 영역으로 지정

### Step 2: 코어 데이터 추출 및 9개 필드 분리 🎯

**Category 할당:**
- Step 1에서 확립한 매핑 규칙에 따라 문제의 출처 단원(Chapter)에 해당하는 Category 필드 값 할당

**Question 추출:**
- 문제 번호부터 첫 문항 시작점 직전까지의 텍스트를 Question 필드로 추출
- 그림 참조가 필요한 경우 [그림 참조] 태그를 텍스트 시작에 추가

**Option 추출:**
- 문제 본문 뒤에 이어지는 문항 텍스트를 번호를 제거하고 Option1부터 Option4까지 각각 추출

**Answer 추출:**
- 해설 또는 정답 목록에서 해당 문제의 정답 텍스트 또는 값을 Answer 필드로 추출

### Step 3: 그림/이미지 추출 및 설명 태그 지정 🖼️

**Image_Description 태그 생성:**
- 이미지 객체가 연결된 문제의 경우, 해당 그림의 내용을 5단어 이내로 요약한 한글 태그 생성
  - 예시: "RLC 직렬 회로도", "사인파 교류 파형"
- 생성된 한글 태그를 Image_Description 필드에 저장
- 이미지가 없는 문제의 경우, 이 필드는 공란으로 둠

### Step 4: 수식 (LaTeX) 변환 및 필드 할당 📐

**수식 추출 및 변환:**
- 문제의 해설 텍스트를 스캔하여 모든 수학 공식을 추출
- 추출된 수식은 LaTeX 코드로 변환

**필드 할당:**
- 변환된 LaTeX 코드 문자열을 LaTeX_Formula 필드에 저장
- 수식이 없는 경우, 이 필드는 공란으로 둠

### Step 5: 최종 데이터 조립 및 출력

**데이터 조립 및 순서 고정:**
- 추출된 모든 문제 정보를 아래 9개 필드 순서로 조합하여 단일 라인 텍스트로 완성
  ```
  Category,Question,Option1,Option2,Option3,Option4,Answer,LaTeX_Formula,Image_Description
  ```

**출력:**
- 최종 완성된 모든 문제 레코드를 쉼표(,)로 구분하여 출력
- CSV 파일로 저장하여 import 가능하도록 제공

## 카테고리 분류

- **전기이론**: 전기 기초 이론, 회로 이론, 전기 자기학 등
- **전기기기**: 발전기, 전동기, 변압기 등 전기 기기 관련
- **전기설비**: 배선, 설비, 시공, 안전 관련

## 사용 예시

```
/extract-questions path/to/electrical-exam.pdf
```

## 주의사항

1. PDF 파일의 목차를 먼저 분석하여 카테고리 매핑 규칙을 명확히 확립하세요
2. 그림이나 수식이 포함된 문제는 해당 필드를 반드시 채워야 합니다
3. 모든 문제는 반드시 4개의 선택지를 가져야 합니다
4. 정답은 정확히 하나의 선택지 텍스트와 일치해야 합니다
5. CSV 출력 시 쉼표(,)가 포함된 텍스트는 따옴표로 감싸야 합니다
