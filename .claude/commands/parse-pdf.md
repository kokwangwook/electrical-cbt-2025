# PDF 파싱 스킬

전기기능사 기출문제 PDF를 CBT 시스템용 JSON 형식으로 변환합니다.

## 입력 파일
- 경로: `source/원소스/` 폴더의 PDF 파일
- 형식: 전기기능사 기출문제 (객관식 4지선다)

## 출력 형식

```json
[
  {
    "id": 1,
    "category": "전기이론|전기기기|전기설비",
    "question": "문제 텍스트 (LaTeX 포함)",
    "option1": "선택지 1 (LaTeX 포함)",
    "option2": "선택지 2 (LaTeX 포함)",
    "option3": "선택지 3 (LaTeX 포함)",
    "option4": "선택지 4 (LaTeX 포함)",
    "answer": 1,
    "explanation": "해설 (선택사항)"
  }
]
```

## LaTeX 변환 규칙

### 단위 변환
- `[V]` → `$[V]$`
- `[A]` → `$[A]$`
- `[W]` → `$[W]$`
- `[Ω]` → `$[\Omega]$`
- `[Hz]` → `$[Hz]$`
- `[J]` → `$[J]$`
- `[C]` → `$[C]$`

### 수학 기호 변환
- `×` → `$\times$` (단일 백슬래시)
- `÷` → `$\div$`
- `≒` → `$\approx$`
- `√` → `$\sqrt{}$`
- `²` → `$^2$`
- `³` → `$^3$`

### 지수 변환
- `10^-19` → `$10^{-19}$`
- `10^12` → `$10^{12}$`

### 분수 변환
- `1/2` → `$\frac{1}{2}$`

## 검증 단계

1. **문제 개수 확인**: 최소 50개 이상
2. **필수 필드 검증**: id, category, question, option1-4, answer 모두 존재
3. **선택지 검증**:
   - 4개 선택지 모두 5자 이상
   - `×` 또는 `$\times$`만 있는 선택지 없음
   - 빈 문자열 없음
4. **정답 검증**: answer가 1-4 범위 내
5. **LaTeX 검증**:
   - 이중 백슬래시(`\\\\`) 없음
   - 여는 `$`와 닫는 `$` 개수 일치

## 파싱 프로세스

1. **PDF 선택**: `전기기능사필수500문제-다산에듀.pdf` 우선
2. **텍스트 추출**: pdf-parse 라이브러리 사용
3. **문제 패턴 인식**:
   - 문제 번호: `\d+\.` 또는 `문제 \d+`
   - 선택지: `①`, `②`, `③`, `④` 또는 `1.`, `2.`, `3.`, `4.`
   - 정답: `정답:` 또는 `답:` 뒤의 숫자
4. **LaTeX 변환**: 위 규칙 적용
5. **카테고리 분류**:
   - 키워드 기반: "전압", "전류" → 전기이론
   - "전동기", "발전기" → 전기기기
   - "배선", "접지" → 전기설비
6. **검증**: 위 검증 단계 실행
7. **출력**: `source/파일명_parsed.json`

## 에러 처리

- 선택지 누락 시: 경고 출력, 해당 문제 스킵
- 정답 없음 시: answer = 0, 경고 출력
- LaTeX 변환 실패 시: 원본 유지, 경고 출력

## 사용 예시

```bash
# 스킬 실행
/parse-pdf 전기기능사필수500문제-다산에듀.pdf
```

출력:
- `source/전기기능사필수500문제_parsed.json`
- 통계 보고서 (총 문제 수, 카테고리별 분포, 경고 목록)
